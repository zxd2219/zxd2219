import{_ as P}from"./CpbKVB0B.js";import{_ as T}from"./B4hUp_61.js";import{y as A,G as S,d as o,ar as U,w as q,g as s,f as h,at as W,t as d,r as g,z as D,B as E,C as I,A as v,q as F,c as i,e as y,E as a,n as b,K as G,F as $,ay as C,bh as M}from"./4LdH3WMm.js";import{r as k}from"./Db_izYZD.js";import{u as O}from"./CYgojxgg.js";import{q as R}from"./xFQ52XFn.js";import"./DlAUqK2U.js";const K={class:"overflow-hidden rounded-md border border-white/10 shadow-md shadow-zinc-950/50 transition-colors duration-200 hover:border-white/20"},H={class:"flex flex-col"},J={class:"text-lg font-semibold"},Q={class:"text-xs text-muted"},X=A({__name:"ArticleCard",props:{title:{type:String,required:!0},date:{type:String,required:!0},image:{type:String,required:!0},path:{type:String,required:!0}},setup(r){return(u,p)=>{const n=W,c=U;return o(),S(c,{to:r.path,"aria-label":r.title,class:"flex cursor-pointer flex-col gap-2"},{default:q(()=>[s("div",K,[h(n,{width:"1536",alt:`${r.title} article image`,class:"h-64 w-full object-cover transition-transform duration-200 hover:scale-105",src:r.image,"aria-label":`${r.title} article image`},null,8,["alt","src","aria-label"])]),s("div",H,[s("h3",J,d(r.title),1),s("span",Q,d(r.date),1)])]),_:1},8,["to","aria-label"])}}}),Y=Object.assign(X,{__name:"ArticleCard"}),Z={class:"mx-auto mt-4 flex max-w-4xl flex-col p-7 sm:mt-20"},ee={class:"font-newsreader italic text-white-shadow text-center text-4xl"},te={class:"text-center text-lg font-extralight italic text-muted"},se={key:0,class:"mb-4 flex flex-col gap-2"},ae={class:"my-4"},oe={key:0,class:"mb-4 flex flex-wrap gap-2"},ne=["onClick"],le={class:"font-extralight"},re={key:2,class:"flex h-64 flex-col items-center justify-center gap-2"},ie={class:"text-2xl"},ce={class:"text-sm"},de=A({__name:"Writing",async setup(r){let u,p;const n=g([]),c=g(""),m=g(!1),{locale:_}=D(),{data:f}=([u,p]=E(async()=>O("articles-"+_.value,async()=>{const e="articles_"+_.value;return await R(e).all()},{watch:[_]})),u=await u,p(),u);if(!f.value)throw I({statusCode:404,statusMessage:"Page not found"});const x=v(()=>Array.from(new Set(f.value?.flatMap(e=>e.tags)))),w=v(()=>f.value?.filter(e=>(n.value.length===0||n.value.some(l=>e.tags.includes(l)))&&(c.value===""||e.title.toLowerCase().includes(c.value.toLowerCase())))??[]),V=e=>{n.value=n.value.includes(e)?n.value.filter(l=>l!==e):[...n.value,e]},B=F(),N=e=>B.path.startsWith(`/${_.value}`)?e:e.replace(`/${_.value}`,"");return(e,l)=>{const j=P,z=T,L=Y;return o(),i("section",Z,[s("h1",ee,[k(e.$slots,"title",{mdcUnwrap:"p"})]),s("h2",te,[k(e.$slots,"subtitle",{mdcUnwrap:"p"})]),h(j,{class:"mb-8 mt-2"}),s("div",{class:b(a(m)?"":"mb-3")},[s("span",{class:"font-newsreader italic text-white-shadow cursor-pointer select-none text-lg",onClick:l[0]||(l[0]=t=>m.value=!a(m))},d(a(m)?e.$t("writing.hide_search"):e.$t("writing.show_search")),1)],2),a(m)?(o(),i("div",se,[s("div",ae,[h(z,{modelValue:a(c),"onUpdate:modelValue":l[1]||(l[1]=t=>G(c)?c.value=t:null),class:"w-full sm:w-96",placeholder:e.$t("writing.search_article")},null,8,["modelValue","placeholder"])]),a(x).length>0?(o(),i("div",oe,[(o(!0),i($,null,C(a(x),t=>(o(),i("div",{key:t,class:b(["hover:text-shadow-md flex cursor-pointer select-none items-center rounded-md bg-neutral-800 px-2 py-1 text-xs transition-colors duration-100 text-shadow-sm hover:bg-neutral-700 sm:text-sm",{"bg-zinc-700":a(n).includes(t)}]),onClick:ue=>V(t)},[s("div",le,d(t),1)],10,ne))),128))])):y("",!0)])):y("",!0),a(w).length?(o(),S(M,{key:1,name:"list",tag:"ul",class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},{default:q(()=>[(o(!0),i($,null,C(a(w),t=>(o(),i("li",{key:t.path},[h(L,{title:t.title,date:t.date,image:t.image,path:N(t.path)},null,8,["title","date","image","path"])]))),128))]),_:1})):(o(),i("div",re,[s("span",ie,d(e.$t("writing.not_found")),1),s("span",ce,d(e.$t("writing.not_found_description")),1)]))])}}}),we=Object.assign(de,{__name:"Writing"});export{we as default};
